const semver=require("semver"),path=require("path"),fs=require("fs");
(function(){function f(a){const c=path.resolve(__dirname,"../..","package.json");fs.readFile(c,function(e,g){if(e)return a("loadPackageJson_error");try{b=JSON.parse(g),a()}catch(h){a(h)}})}const d={};"undefined"!==typeof module&&module.exports&&(module.exports=d);let b=null;d.showVersionAndExit=function(){d.getPackageVersion(function(a,c){console.log("webOS TV CLI Version: "+c);process.exit(0)})};d.checkNodeVersion=function(a){d.getAllowedNodeVersion(function(c,e){(c=semver.validRange(e))?semver.satisfies(process.version,
c)?a():(console.error("This command only works on Node.js version: "+c),process.exit(1)):(console.error("Invalid Node.js version range: "+e),process.exit(1))})};d.getAllowedNodeVersion=function(a){b?a(null,b&&b.engines&&b.engines.node||""):f(function(c){a(c,b&&b.engines&&b.engines.node||"")})};d.getPackageVersion=function(a){b?a(null,b.version):f(function(c){a(c,b&&b.version||"unknown")})}})();
